{% extends 'base.html' %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>üìã –°–ø–∏—Å–æ–∫ –º–∞–π–Ω–∞</h2>
   <a href="{% url 'asset_create' %}" class="btn btn-primary"><i class="bi bi-plus-lg"></i> –î–æ–¥–∞—Ç–∏ –º–∞–π–Ω–æ</a>
</div>

<form method="get" class="mb-4 card p-3 bg-light">
    <div class="input-group">
        <input type="text" name="q" class="form-control" placeholder="–ü–æ—à—É–∫ (–Ω–∞–∑–≤–∞, —ñ–Ω–≤. –Ω–æ–º–µ—Ä, –ü–Ü–ë...)" value="{{ query }}">
        <button class="btn btn-primary" type="submit">–®—É–∫–∞—Ç–∏</button>
        {% if query %}
            <a href="{% url 'asset_list' %}" class="btn btn-secondary">–°–∫–∏–Ω—É—Ç–∏</a>
        {% endif %}
    </div>
</form>

<div class="card">
    <div class="table-responsive">
        <table class="table table-hover table-striped mb-0">
            <thead class="table-dark">
                <tr>
                    <th>–¢–∏–ø</th>
                    <th>–ù–∞–∑–≤–∞</th>
                    <th>–Ü–Ω–≤. –ù–æ–º–µ—Ä</th>
                    <th>–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π</th>
                    <th>–õ–æ–∫–∞—Ü—ñ—è</th>
                    <th>–†–∞—Ö—É–Ω–æ–∫</th>
                    <th>–î—ñ—ó</th>
                </tr>
            </thead>
            <tbody>
                {% for asset in assets %}
                <tr>
                    <td><span class="badge bg-info text-dark">{{ asset.category.name }}</span></td>
                    <td class="fw-bold">{{ asset.name }}</td>
                    <td>{{ asset.inventory_number }}</td>
                    <td>{{ asset.responsible_person }}</td>
                    <td>{{ asset.location }}</td>
                    <td>{{ asset.account }}</td>
                    <td>
                    <a href="{% url 'asset_update' asset.pk %}" class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil"></i></a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="7" class="text-center py-4">–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ üòû</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}